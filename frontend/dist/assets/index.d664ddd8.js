import{c as e,a,o as t,b as n,d as o,w as s,e as i,t as l,f as r,g as d,r as c,h,D as u,i as p,V as m}from"./vendor.8eeac98f.js";var g={async check(e){let a=localStorage.getItem("id_token");null!==a&&e.axios.get("api/user",{headers:{Authorization:"Bearer "+a}}).then((t=>{e.auth.authenticated=!0,e.auth.profile=t.data.data,e.axios.defaults.headers={Authorization:`Bearer ${a}`}})).catch((e=>{console.log(e)}))}};let v;const f={},k=function(e,a){if(!a||0===a.length)return e();if(void 0===v){const e=document.createElement("link").relList;v=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(a.map((e=>{if(e in f)return;f[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const n=document.createElement("link");return n.rel=a?"stylesheet":v,a||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),a?new Promise(((e,a)=>{n.addEventListener("load",e),n.addEventListener("error",a)})):void 0}))).then((()=>e()))},w=[{path:"/employees",name:"employee.index",component:()=>k((()=>import("./Index.d741fd87.js")),["/assets/Index.d741fd87.js","/assets/vendor.8eeac98f.js"])},{path:"/employe/create",name:"employee.create",component:()=>k((()=>import("./CreateEdit.ac8e5762.js")),["/assets/CreateEdit.ac8e5762.js","/assets/vendor.8eeac98f.js"])},{path:"/employe/:id",name:"employee.edit",component:()=>k((()=>import("./CreateEdit.ac8e5762.js")),["/assets/CreateEdit.ac8e5762.js","/assets/vendor.8eeac98f.js"])},{path:"/login",name:"login",component:()=>k((()=>import("./Login.9c638a66.js")),["/assets/Login.9c638a66.js","/assets/vendor.8eeac98f.js"])},{path:"/",name:"home",component:()=>k((()=>import("./Home.ca79a8a9.js")),["/assets/Home.ca79a8a9.js","/assets/vendor.8eeac98f.js"])},{path:"/:pathMatch(.*)*",name:"notfound",component:()=>k((()=>import("./NotFound.089f08e2.js")),["/assets/NotFound.089f08e2.js","/assets/vendor.8eeac98f.js"])}],b=e({history:a(),routes:w});const _={data:()=>({auth:{authenticated:!1,profile:null}}),methods:{async checkUserLogin(){let e=localStorage.getItem("id_token");null!==e&&this.axios.get("api/user",{headers:{Authorization:"Bearer "+e}}).then((e=>{this.auth.authenticated=!0,this.auth.profile=e.data.data})).catch((e=>{console.log(e)}))},userLogged(e){this.auth.authenticated=!0,this.auth.profile=e,this.axios.defaults.headers={Authorization:`Bearer ${localStorage.getItem("id_token")}`},console.log(e)},logOut(){console.log("tes"),this.auth.authenticated=!1,this.auth.profile=null,localStorage.setItem("id_token",null),this.$router.push({name:"login"})}},mounted(){this.$nextTick((async()=>{await g.check(this),console.log("======="),console.log(this.auth.profile)}))}},x={class:"wrapper"},y={class:"sticky-top"},E={class:"navbar navbar-expand-md navbar-light d-print-none"},L={class:"container-xl"},A=o("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-menu"},[o("span",{class:"navbar-toggler-icon"})],-1),j=o("h1",{class:"navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3"},[o("a",{href:"."},[o("img",{src:"/assets/logo.19eb4dbd.svg",width:"110",height:"32",alt:"Tabler",class:"navbar-brand-image"})])],-1),I={class:"navbar-nav flex-row order-md-last"},O=o("div",{class:"nav-item dropdown d-none d-md-flex me-3"},[o("a",{href:"#",class:"nav-link px-0","data-bs-toggle":"dropdown",tabindex:"-1","aria-label":"Show notifications"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),o("path",{d:"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"}),o("path",{d:"M9 17v1a3 3 0 0 0 6 0v-1"})]),o("span",{class:"badge bg-red"})]),o("div",{class:"dropdown-menu dropdown-menu-end dropdown-menu-card"},[o("div",{class:"card"},[o("div",{class:"card-body"}," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus ad amet consectetur exercitationem fugiat in ipsa ipsum, natus odio quidem quod repudiandae sapiente. Amet debitis et magni maxime necessitatibus ullam. ")])])],-1),P=h("Log in"),z={key:1,class:"nav-item dropdown"},M={class:"nav-link d-flex lh-1 text-reset p-0","data-bs-toggle":"dropdown","aria-label":"Open user menu"},S={class:"d-none d-xl-block ps-2"},T={class:"mt-1 small text-muted"},B={class:"dropdown-menu dropdown-menu-end dropdown-menu-arrow"},C=d('<a href="#" class="dropdown-item">Set status</a><a href="#" class="dropdown-item">Profile &amp; account</a><a href="#" class="dropdown-item">Feedback</a><div class="dropdown-divider"></div><a href="#" class="dropdown-item">Settings</a>',5),D={class:"collapse navbar-collapse",id:"navbar-menu"},R={class:"d-flex flex-column flex-md-row flex-fill align-items-stretch align-items-md-center"},V={class:"navbar-nav"},$={class:"nav-item"},H=o("span",{class:"nav-link-icon d-md-none d-lg-inline-block"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),o("polyline",{points:"5 12 3 12 12 3 21 12 19 12"}),o("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}),o("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"})])],-1),U=o("span",{class:"nav-link-title"}," Home ",-1),q={class:"nav-item"},F=o("span",{class:"nav-link-icon d-md-none d-lg-inline-block"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[o("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),o("polyline",{points:"9 11 12 14 20 6"}),o("path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9"})])],-1),N=o("span",{class:"nav-link-title"}," Employee ",-1);_.render=function(e,a,d,h,u,p){const m=c("router-link"),g=c("router-view");return t(),n("div",x,[o("div",y,[o("header",E,[o("div",L,[A,j,o("div",I,[O,this.auth.authenticated?i("",!0):(t(),n(m,{key:0,class:"nav-link",to:{name:"login"}},{default:s((()=>[P])),_:1})),u.auth.profile?(t(),n("div",z,[o("a",M,[o("div",S,[o("div",null,l(this.auth.profile.name),1),o("div",T,l(this.auth.profile.email),1)])]),o("div",B,[C,this.auth.authenticated?(t(),n("a",{key:0,id:"text-button",onClick:a[1]||(a[1]=r(((...e)=>p.logOut&&p.logOut(...e)),["prevent"])),class:"dropdown-item"},"Log out")):i("",!0)])])):i("",!0)]),o("div",D,[o("div",R,[o("ul",V,[o("li",$,[o(m,{to:{name:"home"},class:"nav-link"},{default:s((()=>[H,U])),_:1})]),o("li",q,[this.auth.authenticated?(t(),n(m,{key:0,to:{name:"employee.index"},class:"nav-link"},{default:s((()=>[F,N])),_:1},8,["to"])):i("",!0)])])])])])])]),o(g,{onUser_success_login:p.userLogged},null,8,["onUser_success_login"])])};const W=G("http://127.0.0.1:8000");function G(e){return u.create({baseURL:e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("id_token")}`}})}G("");const J=p(_);J.use(b),J.use(m),J.mount("#app"),W.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&b.push({name:"login"}),Promise.reject(e)})),J.config.globalProperties.axios=W;
