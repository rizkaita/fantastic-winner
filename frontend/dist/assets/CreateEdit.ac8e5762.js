import{o as e,b as a,d as s,w as t,t as l,e as o,f as r,k as i,v as n,l as d,h as m,r as c}from"./vendor.8eeac98f.js";const p={data:()=>({employee:{},validationErrorMessage:"",errorMessage:"",isUpdate:!1}),methods:{onSubmit(){if(!this.isUpdate)return void this.axios.post("api/employee",this.employee).then((e=>{e.data.success?(this.$swal("Success","Success saving data.","success"),this.routeToIndex()):this.errorMessage=e.data.message})).catch((e=>{let a=e.response;422===a.status&&(this.validationErrorMessage=a.data.data,this.errorMessage=a.data.message,window.scroll(0,0))}));const e=this.$route.params.id;this.axios.put(`api/employee/${e}`,this.employee).then((e=>{e.data.success?(this.$swal("Success","Success updating data.","success"),this.routeToIndex()):this.errorMessage=e.data.message})).catch((e=>{let a=e.response;console.log("==== param ===="),console.log(a),422===a.status&&(this.validationErrorMessage=a.data.data,this.errorMessage=a.data.message,window.scroll(0,0))}))},routeToIndex(){this.$router.push({name:"employee.index"})},async getEmployee(e){this.axios.get(`api/employee/${e}`).then((e=>{console.log(e.data),e.data.success&&(this.employee=e.data.data)})).catch((e=>{console.log(e),404===e.response.status&&this.routeToIndex()}))}},beforeMount(){console.log("==== param ===="),console.log(this.$route.params),console.log("==== param ===="),null!=this.$route.params&&null!=this.$route.params.id&&(this.isUpdate=!0)},mounted(){this.isUpdate&&this.getEmployee(this.$route.params.id)}},v={class:"page-wrapper"},u={class:"container-xl"},g={class:"page-header d-print-none"},h={class:"row align-items-center"},y=s("div",{class:"col"},[s("div",{class:"page-pretitle"},"Management"),s("h2",{class:"page-title"},"HRD")],-1),f={class:"col-auto ms-auto d-print-none"},_={class:"btn-list"},b={class:"col"},M=m(" Back "),E={class:"page-body"},k={class:"container-xl"},x={class:"row row-deck row-cards"},w={class:"card shadow my-4"},U={class:"card-header"},S={class:"card-body"},$={key:0,class:"alert alert-danger",role:"alert"},D={class:"col"},V={class:"row"},I={class:"col-md-6"},T={class:"m-3"},N=s("label",{for:"first_name",class:"form-label"},"First Name*",-1),X={key:0,class:"invalid-feedback"},F={class:"m-3"},H=s("label",{for:"last_name",class:"form-label"},"Last Name*",-1),R={key:0,class:"invalid-feedback"},j={class:"m-3"},q=s("label",{for:"email",class:"form-label"},"Email*",-1),B={key:0,class:"invalid-feedback"},C={class:"col-md-6"},L={class:"m-3"},P=s("label",{for:"phone_number",class:"form-label"},"Phone Number*",-1),z={key:0,class:"invalid-feedback"},A={class:"m-3"},G=s("label",{for:"department_name",class:"form-label"},"Department Name*",-1),J=s("option",{value:"IT"},"IT",-1),K=s("option",{value:"Marketing"},"Marketing",-1),O=s("option",{value:"Finance"},"Finance",-1),Q=s("option",{value:"HR Dept"},"HR Dept",-1),W={key:0,class:"invalid-feedback"},Y={class:"m-3"},Z=s("label",{for:"start_date",class:"form-label"},"Start Date*",-1),ee={key:0,class:"invalid-feedback"},ae={class:"m-3"},se=s("label",{for:"end_date",class:"form-label"},"End Date",-1),te={key:0,class:"invalid-feedback"},le=s("br",null,null,-1),oe=m(" *required "),re=s("div",{class:"card-footer"},[s("div",{class:"text-end"},[s("button",{class:"btn btn-primary shadow align-self-center"},"Save")])],-1);p.render=function(m,p,ie,ne,de,me){const ce=c("router-link");return e(),a("div",v,[s("div",u,[s("div",g,[s("div",h,[y,s("div",f,[s("div",_,[s("div",b,[s(ce,{to:{name:"employee.index"},class:"btn btn-outline-primary shadow"},{default:t((()=>[M])),_:1},8,["to"])])])])])])]),s("div",E,[s("div",k,[s("div",x,[s("div",w,[s("div",U,[s("h3",null,l(de.isUpdate?"Update":"Create")+" Employee Data",1)]),s("div",S,[de.errorMessage?(e(),a("div",$,l(de.errorMessage),1)):o("",!0),s("div",D,[s("form",{onSubmit:p[8]||(p[8]=r(((...e)=>me.onSubmit&&me.onSubmit(...e)),["prevent"]))},[s("div",V,[s("div",I,[s("div",T,[N,i(s("input",{type:"text",class:["form-control",{"is-invalid":de.validationErrorMessage.first_name}],id:"first_name",name:"first_name","onUpdate:modelValue":p[1]||(p[1]=e=>de.employee.first_name=e)},null,2),[[n,de.employee.first_name]]),de.validationErrorMessage.first_name?(e(),a("div",X,l(de.validationErrorMessage.first_name[0]),1)):o("",!0)]),s("div",F,[H,i(s("input",{type:"text",class:[{"is-invalid":de.validationErrorMessage.last_name},"form-control"],id:"last_name",name:"last_name","onUpdate:modelValue":p[2]||(p[2]=e=>de.employee.last_name=e)},null,2),[[n,de.employee.last_name]]),de.validationErrorMessage.last_name?(e(),a("div",R,l(de.validationErrorMessage.last_name[0]),1)):o("",!0)]),s("div",j,[q,i(s("input",{type:"text",class:["form-control",{"is-invalid":de.validationErrorMessage.email}],id:"email",name:"email","onUpdate:modelValue":p[3]||(p[3]=e=>de.employee.email=e)},null,2),[[n,de.employee.email]]),de.validationErrorMessage.email?(e(),a("div",B,l(de.validationErrorMessage.email[0]),1)):o("",!0)])]),s("div",C,[s("div",L,[P,i(s("input",{type:"text",class:["form-control",{"is-invalid":de.validationErrorMessage.phone_number}],id:"phone_number","onUpdate:modelValue":p[4]||(p[4]=e=>de.employee.phone_number=e),placeholder:"628XXXX"},null,2),[[n,de.employee.phone_number]]),de.validationErrorMessage.phone_number?(e(),a("div",z,l(de.validationErrorMessage.phone_number[0]),1)):o("",!0)]),s("div",A,[G,i(s("select",{id:"department_name",class:["form-select",{"is-invalid":de.validationErrorMessage.department_name}],"onUpdate:modelValue":p[5]||(p[5]=e=>de.employee.department_name=e)},[J,K,O,Q],2),[[d,de.employee.department_name]]),de.validationErrorMessage.department_name?(e(),a("div",W,l(de.validationErrorMessage.department_name[0]),1)):o("",!0)]),s("div",Y,[Z,i(s("input",{type:"text",class:["form-control",{"is-invalid":de.validationErrorMessage.start_date}],id:"start_date",name:"start_date",placeholder:"yyyy-mm-dd","onUpdate:modelValue":p[6]||(p[6]=e=>de.employee.start_date=e)},null,2),[[n,de.employee.start_date]]),de.validationErrorMessage.start_date?(e(),a("div",ee,l(de.validationErrorMessage.start_date[0]),1)):o("",!0)]),s("div",ae,[se,i(s("input",{type:"text",class:["form-control",{"is-invalid":de.validationErrorMessage.end_date}],name:"start_date",placeholder:"yyyy-mm-dd",id:"end_date","onUpdate:modelValue":p[7]||(p[7]=e=>de.employee.end_date=e)},null,2),[[n,de.employee.end_date]]),de.validationErrorMessage.end_date?(e(),a("div",te,l(de.validationErrorMessage.end_date[0]),1)):o("",!0),le,oe])]),re])],32)])])])])])])])};export default p;
